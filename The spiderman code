Main:
package Me.MRANDOM.pp;

import org.bukkit.plugin.java.JavaPlugin;

import Me.MRANDOM.pp.commands.weiner;

public class Main extends JavaPlugin {
	
	@Override
	public void onEnable() {
		System.out.println("(!) its gonna throw errors but its fine...");
			new weiner(this);
	}
}



weiner:
package Me.MRANDOM.pp.commands;

import java.util.HashMap;
import java.util.Map;

import org.bukkit.Bukkit;
import org.bukkit.Location;
import org.bukkit.Material;
import org.bukkit.entity.Arrow;
import org.bukkit.entity.Bat;
import org.bukkit.entity.EntityType;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.Action;
import org.bukkit.event.entity.EntityDamageEvent;
import org.bukkit.event.entity.EntityDamageEvent.DamageCause;
import org.bukkit.event.player.PlayerInteractEvent;
import org.bukkit.potion.PotionEffect;
import org.bukkit.potion.PotionEffectType;
import org.bukkit.scheduler.BukkitScheduler;
import org.bukkit.util.Vector;

import Me.MRANDOM.pp.Main;

public class weiner implements Listener {
	
	private Main plugin;
	
	public weiner(Main plugin) {
		Bukkit.getPluginManager().registerEvents(this, plugin);
		this.plugin = plugin;
	}
	
	Map<String, Long> cooldown = new HashMap<String, Long>();
	Map<String, Long> cool = new HashMap<String, Long>();
	
	@EventHandler
	public void onClick(PlayerInteractEvent event) {
		if(event.getAction() == Action.RIGHT_CLICK_AIR) {
			
			Player player = (Player) event.getPlayer();
			
			Material mhand = player.getInventory().getItemInMainHand().getType();
			Material ohand = player.getInventory().getItemInOffHand().getType();
			
			if(mhand == Material.BOW || mhand == Material.CROSSBOW || mhand == Material.TRIDENT || mhand == Material.FISHING_ROD ||
			   ohand == Material.BOW || ohand == Material.CROSSBOW || ohand == Material.TRIDENT || ohand == Material.FISHING_ROD)  {
			return;
			}
			
				if (cooldown.containsKey(player.getName())) {
					if(cooldown.get(player.getName()) > System.currentTimeMillis()) {
					
						return;
					}
				}
			
			cooldown.put(player.getName(), System.currentTimeMillis() + (7 * 100));
			cool.put(player.getName(), System.currentTimeMillis() + (2 * 1000));
			
			Location loc = event.getPlayer().getLocation();
			Vector di = loc.getDirection();
			
				Arrow arrow = (Arrow) player.launchProjectile(Arrow.class);
				arrow.setGravity(false);
				Vector sped = arrow.getVelocity();
				Bat bat = (Bat) loc.getWorld().spawnEntity(loc, EntityType.BAT);
				bat.addPotionEffect(new PotionEffect(PotionEffectType.INVISIBILITY, 200, 1));
				bat.setAI(false);
				bat.setLeashHolder(player);
				bat.setSilent(true);
			
			
				
				BukkitScheduler sched = player.getServer().getScheduler();
				
				sched.scheduleSyncRepeatingTask(this.plugin, new Runnable() {

					int i = 0;
					
					@Override
					public void run() {
						i++;
							bat.teleport(arrow);
							if(arrow.isInBlock()) {
								
								player.getServer().getScheduler().cancelTasks(plugin);
								player.setVelocity(di.add(sped));
								arrow.remove();
								bat.remove();
								
								cooldown.clear();
							}
							
						if(i == 15) {
							player.getServer().getScheduler().cancelTasks(plugin);	
							arrow.remove();
							bat.remove();
							
						}
					}},0L , 1L);
				
		}
	}	
	
	@EventHandler
	public void onFall(EntityDamageEvent event) {
		if (event.getEntity() instanceof Player) {
			Player player = (Player) event.getEntity();
			if(event.getCause() == DamageCause.FALL) {
				if (cool.containsKey(player.getName())) {
					if(cool.get(player.getName()) > System.currentTimeMillis()) {
						event.setCancelled(true);
						player.damage(1);
						return;
					}
				}
		
			}
		}
		
	}
}
